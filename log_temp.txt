请求行: connection: keep-alive

请求行: Content-Type: application/json

请求行: Accept: application/json

请求行: accept-language: *

请求行: sec-fetch-mode: cors

请求行: user-agent: node

请求行: accept-encoding: gzip, deflate

请求行: content-length: 164

发现Content-Length: 164 (原始: '164')
请求行: 

请求头读取完成
请求头读取完成，检查POST请求体...
headersComplete: 1
contentLength: 164
是否POST请求: 1
开始读取POST请求体，长度: 164
已读取: 10/164
已读取: 20/164
已读取: 30/164
已读取: 40/164
已读取: 50/164
已读取: 60/164
已读取: 70/164
已读取: 80/164
已读取: 90/164
已读取: 100/164
已读取: 110/164
已读取: 120/164
已读取: 130/164
已读取: 140/164
已读取: 150/164
已读取: 160/164
实际读取字节数: 164
请求体内容: {"id":"cmd_1757052410034_5lovcsq","ts":1757052410033,"cmds":[{"dev":"pump1","act":"setPwr","val":30,"dur":3000},{"dev":"pump2","act":"setPwr","val":40,"dur":2000}]}
完整请求长度: 409
请求前200字符: POST /api/commands HTTP/1.1
host: 192.168.4.1
connection: keep-alive
Content-Type: application/json
Accept: application/json
accept-language: *
sec-fetch-mode: cors
user-agent: node
accept-enc
识别为批量命令请求
=== 开始处理批量命令 ===
找到JSON起始位置: 245
提取的JSON数据: {"id":"cmd_1757052410034_5lovcsq","ts":1757052410033,"cmds":[{"dev":"pump1","act":"setPwr","val":30,"dur":3000},{"dev":"pump2","act":"setPwr","val":40,"dur":2000}]}
JSON数据长度: 164
开括号数量: 3, 闭括号数量: 3
收到批处理命令 ID: cmd_1757052410034_5lovcsq, 时间戳: 0, 命令数: 2
设备 inflate_pump_1 PWM设置为 30% (76/255)
将在 3000ms 后自动关闭
设备 inflate_pump_2 PWM设置为 40% (102/255)
将在 2000ms 后自动关闭
执行了 2 个命令
=== 收到HTTP请求 ===
请求行: POST /api/commands HTTP/1.1

请求行: host: 192.168.4.1

请求行: connection: keep-alive

请求行: Content-Type: application/json

请求行: Accept: application/json

请求行: accept-language: *

请求行: sec-fetch-mode: cors

请求行: user-agent: node

请求行: accept-encoding: gzip, deflate
请求行: content-length: 166

发现Content-Length: 166 (原始: '166')
请求行: 

请求头读取完成
请求头读取完成，检查POST请求体...
headersComplete: 1
contentLength: 166
是否POST请求: 1
开始读取POST请求体，长度: 166
已读取: 10/166
已读取: 20/166
已读取: 30/166
已读取: 40/166
已读取: 50/166
已读取: 60/166
已读取: 70/166
已读取: 80/166
已读取: 90/166
已读取: 100/166
已读取: 110/166
已读取: 120/166
已读取: 130/166
已读取: 140/166
已读取: 150/166
已读取: 160/166
实际读取字节数: 166
请求体内容: {"id":"cmd_1757052410142_0dtqfne","ts":1757052410142,"cmds":[{"dev":"valve1","act":"setSt","val":true,"dur":1500},{"dev":"pump3","act":"setPwr","val":60,"dur":1000}]}
完整请求长度: 411
请求前200字符: POST /api/commands HTTP/1.1
host: 192.168.4.1
connection: keep-alive
Content-Type: application/json
Accept: application/json
accept-language: *
sec-fetch-mode: cors
user-agent: node
accept-enc
识别为批量命令请求
=== 开始处理批量命令 ===
找到JSON起始位置: 245
提取的JSON数据: {"id":"cmd_1757052410142_0dtqfne","ts":1757052410142,"cmds":[{"dev":"valve1","act":"setSt","val":true,"dur":1500},{"dev":"pump3","act":"setPwr","val":60,"dur":1000}]}
JSON数据长度: 166
开括号数量: 3, 闭括号数量: 3
收到批处理命令 ID: cmd_1757052410142_0dtqfne, 时间戳: 0, 命令数: 2
设备 valve_1 状态设置为 开启
将在 1500ms 后自动关闭
设备 exhaust_pump_1 PWM设置为 60% (153/255)
将在 1000ms 后自动关闭
执行了 2 个命令
=== 收到HTTP请求 ===
请求行: POST /api/commands HTTP/1.1

请求行: host: 192.168.4.1

请求行: connection: keep-alive

请求行: Content-Type: application/json

请求行: Accept: application/json

请求行: accept-language: *

请求行: sec-fetch-mode: cors

请求行: user-agent: node

请求行: accept-encoding: gzip, deflate

请求行: content-length: 113

发现Content-Length: 113 (原始: '113')
请求行: 

请求头读取完成
请求头读取完成，检查POST请求体...
headersComplete: 1
contentLength: 113
是否POST请求: 1
开始读取POST请求体，长度: 113
已读取: 10/113
已读取: 20/113
已读取: 30/113
已读取: 40/113
已读取: 50/113
已读取: 60/113
已读取: 70/113
已读取: 80/113
已读取: 90/113
已读取: 100/113
已读取: 110/113
实际读取字节数: 113
请求体内容: {"id":"cmd_1757052411155_a9vh868","ts":1757052411155,"cmds":[{"dev":"pump2","act":"setPwr","val":40,"dur":2000}]}
完整请求长度: 358
请求前200字符: POST /api/commands HTTP/1.1
host: 192.168.4.1
connection: keep-alive
Content-Type: application/json
Accept: application/json
accept-language: *
sec-fetch-mode: cors
user-agent: node
accept-enc
识别为批量命令请求
=== 开始处理批量命令 ===
找到JSON起始位置: 245
提取的JSON数据: {"id":"cmd_1757052411155_a9vh868","ts":1757052411155,"cmds":[{"dev":"pump2","act":"setPwr","val":40,"dur":2000}]}
JSON数据长度: 113
开括号数量: 2, 闭括号数量: 2
收到批处理命令 ID: cmd_1757052411155_a9vh868, 时间戳: 0, 命令数: 1
设备 inflate_pump_2 PWM设置为 40% (102/255)
将在 2000ms 后自动关闭
执行了 1 个命令
=== 收到HTTP请求 ===
请求行: POST /api/commands HTTP/1.1

请求行: host: 192.168.4.1

请求行: connection: keep-alive

请求行: Content-Type: application/json

请求行: Accept: application/json

请求行: accept-language: *

请求行: sec-fetch-mode: cors

请求行: user-agent: node

请求行: accept-encoding: gzip, deflate

请求行: content-length: 166

发现Content-Length: 166 (原始: '166')
请求行: 

请求头读取完成
请求头读取完成，检查POST请求体...
headersComplete: 1
contentLength: 166
是否POST请求: 1
开始读取POST请求体，长度: 166
已读取: 10/166
已读取: 20/166
已读取: 30/166
已读取: 40/166
已读取: 50/166
已读取: 60/166
已读取: 70/166
已读取: 80/166
已读取: 90/166
已读取: 100/166
已读取: 110/166
已读取: 120/166
已读取: 130/166
已读取: 140/166
已读取: 150/166
已读取: 160/166
实际读取字节数: 166
请求体内容: {"id":"cmd_1757052411255_6brzucr","ts":1757052411254,"cmds":[{"dev":"valve1","act":"setSt","val":true,"dur":1500},{"dev":"pump3","act":"setPwr","val":60,"dur":1000}]}
完整请求长度: 411
请求前200字符: POST /api/commands HTTP/1.1
host: 192.168.4.1
connection: keep-alive
Content-Type: application/json
Accept: application/json
accept-language: *
sec-fetch-mode: cors
user-agent: node
accept-enc
识别为批量命令请求
=== 开始处理批量命令 ===
找到JSON起始位置: 245
提取的JSON数据: {"id":"cmd_1757052411255_6brzucr","ts":1757052411254,"cmds":[{"dev":"valve1","act":"setSt","val":true,"dur":1500},{"dev":"pump3","act":"setPwr","val":60,"dur":1000}]}
JSON数据长度: 166
开括号数量: 3, 闭括号数量: 3
收到批处理命令 ID: cmd_1757052411255_6brzucr, 时间戳: 0, 命令数: 2
设备 valve_1 状态设置为 开启
将在 1500ms 后自动关闭
设备 exhaust_pump_1 PWM设置为 60% (153/255)
将在 1000ms 后自动关闭
执行了 2 个命令
=== 收到HTTP请求 ===
请求行: POST /api/commands HTTP/1.1

请求行: host: 192.168.4.1

请求行: connection: keep-alive

请求行: Content-Type: application/json

请求行: Accept: application/json

请求行: accept-language: *

请求行: sec-fetch-mode: cors

请求行: user-agent: node

请求行: accept-encoding: gzip, deflate

请求行: content-length: 113

发现Content-Length: 113 (原始: '113')
请求行: 

请求头读取完成
请求头读取完成，检查POST请求体...
headersComplete: 1
contentLength: 113
是否POST请求: 1
开始读取POST请求体，长度: 113
已读取: 10/113
已读取: 20/113
已读取: 30/113
已读取: 40/113
已读取: 50/113
已读取: 60/113
已读取: 70/113
已读取: 80/113
已读取: 90/113
已读取: 100/113
已读取: 110/113
实际读取字节数: 113
请求体内容: {"id":"cmd_1757052412298_273yw4m","ts":1757052412298,"cmds":[{"dev":"pump2","act":"setPwr","val":40,"dur":2000}]}
完整请求长度: 358
请求前200字符: POST /api/commands HTTP/1.1
host: 192.168.4.1
connection: keep-alive
Content-Type: application/json
Accept: application/json
accept-language: *
sec-fetch-mode: cors
user-agent: node
accept-enc
识别为批量命令请求
=== 开始处理批量命令 ===
找到JSON起始位置: 245
提取的JSON数据: {"id":"cmd_1757052412298_273yw4m","ts":1757052412298,"cmds":[{"dev":"pump2","act":"setPwr","val":40,"dur":2000}]}
JSON数据长度: 113
开括号数量: 2, 闭括号数量: 2
收到批处理命令 ID: cmd_1757052412298_273yw4m, 时间戳: 0, 命令数: 1
设备 inflate_pump_2 PWM设置为 40% (102/255)
将在 2000ms 后自动关闭
执行了 1 个命令
=== 收到HTTP请求 ===
请求行: POST /api/commands HTTP/1.1

请求行: host: 192.168.4.1

请求行: connection: keep-alive

请求行: Content-Type: application/json

请求行: Accept: application/json

请求行: accept-language: *

请求行: sec-fetch-mode: cors

请求行: user-agent: node

请求行: accept-encoding: gzip, deflate

请求行: content-length: 166

发现Content-Length: 166 (原始: '166')
请求行: 

请求头读取完成
请求头读取完成，检查POST请求体...
headersComplete: 1
contentLength: 166
是否POST请求: 1
开始读取POST请求体，长度: 166
已读取: 10/166
已读取: 20/166
已读取: 30/166
已读取: 40/166
已读取: 50/166
已读取: 60/166
已读取: 70/166
已读取: 80/166
已读取: 90/166
已读取: 100/166
已读取: 110/166
已读取: 120/166
已读取: 130/166
已读取: 140/166
已读取: 150/166
已读取: 160/166
实际读取字节数: 166
请求体内容: {"id":"cmd_1757052412401_h9r0y2v","ts":1757052412401,"cmds":[{"dev":"valve1","act":"setSt","val":true,"dur":1500},{"dev":"pump3","act":"setPwr","val":60,"dur":1000}]}
完整请求长度: 411
请求前200字符: POST /api/commands HTTP/1.1
host: 192.168.4.1
connection: keep-alive
Content-Type: application/json
Accept: application/json
accept-language: *
sec-fetch-mode: cors
user-agent: node
accept-enc
识别为批量命令请求
== 开始处理批量命令 ===
找到JSON起始位置: 245
提取的JSON数据: {"id":"cmd_1757052412401_h9r0y2v","ts":1757052412401,"cmds":[{"dev":"valve1","act":"setSt","val":true,"dur":1500},{"dev":"pump3","act":"setPwr","val":60,"dur":1000}]}
JSON数据长度: 166
开括号数量: 3, 闭括号数量: 3
收到批处理命令 ID: cmd_1757052412401_h9r0y2v, 时间戳: 0, 命令数: 2
设备 valve_1 状态设置为 开启
将在 1500ms 后自动关闭
设备 exhaust_pump_1 PWM设置为 60% (153/255)
将在 1000ms 后自动关闭
执行了 2 个命令
设备 inflate_pump_1 定时关闭
设备 exhaust_pump_1 定时关闭
设备 inflate_pump_2 定时关闭
设备 valve_1 定时关闭