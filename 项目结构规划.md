# 项目结构规划

## 目录结构设计
```
manta_control_ultra/
├── frontend/                 # 前端应用
│   ├── src/
│   │   ├── components/      # 可复用组件
│   │   ├── pages/          # 页面组件
│   │   ├── hooks/          # 自定义Hooks
│   │   ├── utils/          # 工具函数
│   │   ├── types/          # TypeScript类型定义
│   │   └── styles/         # 样式文件
│   ├── public/             # 静态资源
│   └── package.json
├── backend/                 # 后端服务
│   ├── src/
│   │   ├── controllers/    # 控制器
│   │   ├── services/       # 业务逻辑
│   │   ├── models/         # 数据模型
│   │   ├── middleware/     # 中间件
│   │   ├── utils/          # 工具函数
│   │   └── types/          # TypeScript类型定义
│   ├── database/           # 数据库文件
│   └── package.json
├── arduino/                # Arduino代码
│   ├── templates/          # 代码模板
│   ├── generated/          # 生成的代码
│   └── libraries/          # 依赖库
├── config/                 # 配置文件
│   ├── devices.json        # 设备配置
│   └── system.json         # 系统配置
├── docs/                   # 项目文档
└── scripts/                # 构建脚本
```

## 代码架构原则
### 文件大小限制
- TypeScript/JavaScript文件：≤200行
- 每个文件夹文件数：≤8个
- 超出限制时拆分为子文件夹

### 模块化设计
- **单一职责**：每个模块只负责一个功能
- **低耦合**：模块间依赖最小化
- **高内聚**：相关功能集中在同一模块

### 避免代码坏味道
- **僵化**：避免修改引发连锁反应
- **冗余**：消除重复代码
- **循环依赖**：确保依赖关系清晰
- **脆弱性**：修改不影响无关功能
- **晦涩性**：代码意图清晰明确

## 技术栈实现
### 前端技术栈
- **React 18**：组件化开发
- **TypeScript**：类型安全
- **Vite**：快速构建工具
- **Tailwind CSS**：原子化CSS
- **Framer Motion**：动画库
- **Socket.io-client**：实时通信

### 后端技术栈
- **Node.js**：运行时环境
- **Express**：Web框架
- **TypeScript**：类型安全
- **Socket.io**：实时通信
- **SQLite**：轻量级数据库
- **Winston**：日志系统

### 开发工具
- **ESLint + Prettier**：代码规范
- **Husky**：Git钩子
- **Jest**：单元测试
- **Docker**：容器化部署

## 部署架构
### 开发环境
- 前端：Vite开发服务器
- 后端：Node.js开发服务器
- 数据库：本地SQLite文件

### 生产环境
- 前端：静态文件部署
- 后端：Node.js服务
- 数据库：SQLite文件
- 反向代理：Nginx（可选）
